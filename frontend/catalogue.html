<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resources</title>
    <style>
    table {
      width: 100%;
      border-collapse: separate;
      margin-top: 1rem;
    }

    td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align:center;
      vertical-align:middle;
    }

    <!--tr:nth-child(even) {
      background-color:
    }
  </style>
</head>
<body>
    <header>
        <h1>Welcome to Our Resource Catalog</h1>
    </header>

    <section id="description">
        <h2>Website Description</h2>
        <span id="h2_Subheading">Browse Available resources</span> 
        <p>Welcome to Concordia University Resource Booking System, your central hub for reserving study rooms, labs, sports facilities and specialized equipments. You can easily browse available resources, check real-time schedules, and make, modify, or cancel bookings at any time.</p>
    </section>
    
    <section id="resources">
        <h2>Brows Resources</h2>
        <span id="h2_Subheading">Making Bookings From Following Catalogue</span>
        <div id="resource_filters"> 
            <button class ="filter_button" id="all_resources">All</button>
            <button class ="filter_button" id="study_rooms">Study Rooms</button>
            <button class ="filter_button" id="labs">Labs</button>
            <button class ="filter_button" id="sports_facilities">Sports Facilities</button>
            <button class ="filter_button" id="specialized_equipments">Equipments</button>
        </div>
        <div id="resourceList">
            <table id="resourcesTable">
            <tbody>
                    <!-- Rows will be added here dynamically -->
                </tbody>
            </table>
        </div>
    </section>


    <script>
      let resourcesArray = [];

      fetch('../data/resources.json')
        .then(response => response.json())
        .then(data => {
          resourcesArray = data;

          const tbody = document.querySelector('#resourcesTable tbody');
          let tr = document.createElement('tr');   // Start with the first row

          resourcesArray.forEach((resource, index) => {
            const td = document.createElement('td');
            td.innerHTML = `
              <img class="resource_img" src="${resource.image}" alt="${resource.type}" style="width:100%; max-width:150px; height:auto;"><br>
              <span class="resource_name">${resource.name}</span><br>
              <span class="resource_desc">${resource.description}</span><br>
              <span class="resource_location">${resource.location}</span><br>
            `;
            tr.appendChild(td);

            // Every 3 items â†’ append the row & start a new one
            if ((index + 1) % 3 === 0) {
              tbody.appendChild(tr);
              tr = document.createElement('tr');
            }
          });

          // Append the last row if it has less than 3 items
          if (tr.children.length > 0) {
            tbody.appendChild(tr);
          }
        })
        .catch(error => console.error('Error loading resources:', error));
    </script>


</body>
</html>
